# coding=utf-8
"""
DATE:   2021/7/14
AUTHOR: TesterCC
"""

# https://www.cnblogs.com/fatalord/p/13850089.html
# pip install pysocks

# Usage: python ython socks5_python3_s5.py 1080
# Background Run: nohup python socks5_python3_s5.py 1080 &

import requests

headers = {
    'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36',
    'Accept': '*/*',
    'Accept-Language': 'en-US,en;q=0.5',
    'Accept-Encoding': 'gzip,deflate',
    'referer': 'https://cn.bing.com/search?q=test'}

proxies = {'http': 'socks5://127.0.0.1:1080', 'https': 'socks5://127.0.0.1:1080'}     # bind which portï¼Œuse which port

ret = requests.get("http://cip.cc", timeout=7, proxies=proxies, headers=headers)

print(ret.text)
